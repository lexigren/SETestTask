webpackJsonp([1,4],{1087:function(e,t,n){e.exports=n(525)},253:function(e,t,n){"use strict";var i=n(1),a=n(423),o=(n.n(a),n(0)),r=(n.n(o),n(382));n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e){this.repository=e}return e.prototype.storeTemplate=function(e,t){var n=this;return this.repository.storeTemplate(e,t).do(function(t){var i=n.templates.find(function(t){return t.id===e});Object.assign(i,t)})},e.prototype.getTemplates=function(e){var t=this;return(this.templates?o.Observable.of(this.templates):this.repository.getTemplates().do(function(e){return t.templates=e})).map(function(t){return e?t.find(function(t){return t.id===e}):t})},e=c([n.i(i.c)(),s("design:paramtypes",["function"==typeof(t=void 0!==r.a&&r.a)&&t||Object])],e);var t}()},382:function(e,t,n){"use strict";var i=n(1),a=n(358),o=n(423),r=(n.n(o),n(0));n.n(r);n.d(t,"a",function(){return l});var c=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=[{id:1,name:"One",template:"\n          <div class='template'>\n            <div class='editable'>\n              One\n            </div>\n            <div class='container'>\n                <div class='editable'>\n                Two\n              </div>\n              <div class='editable'>\n                Three\n              </div>\n            </div>\n          </div>",modified:1516008350380},{id:2,name:"Two",template:"\n          <div class='template'>\n            <div class='container'>\n                <div class='editable'>\n                One\n              </div>\n              <div class='editable'>\n                Two\n              </div>\n              <div class='editable'>\n                Three\n              </div>\n            </div>\n            <div class='editable'>\n              Four\n            </div>\n          </div>",modified:1516008489616},{id:3,name:"Three",template:"\n          <div class='template'>\n            <div class='editable'>\n              one\n            </div>\n            <div class='editable'>\n              two\n            </div>\n            <div class='editable'>\n              three\n            </div>\n          </div>",modified:1516008564742}],l=function(){function e(e){this.http=e}return e.prototype.storeTemplate=function(e,t){var n=new a.b({"Content-Type":"application/json"});return this.http.put("https://fake.backend/templates/"+e,t,{headers:n}).catch(function(e){return r.Observable.of(t)})},e.prototype.getTemplates=function(){return this.http.get("https://fake.backend/templates").catch(function(e){return r.Observable.of(f)})},e=c([n.i(i.c)(),s("design:paramtypes",["function"==typeof(t=void 0!==a.c&&a.c)&&t||Object])],e);var t}()},383:function(e,t,n){"use strict";var i=n(1),a=n(253);n.d(t,"a",function(){return c});var o=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){var t=this;this.storage=e,this.storage.getTemplates().subscribe(function(e){t.templates=e})}return e.prototype.getDate=function(e){return new Date(e).toString()},e=o([n.i(i._6)({selector:"app-main",template:n(802),styles:[n(799)]}),r("design:paramtypes",["function"==typeof(t=void 0!==a.a&&a.a)&&t||Object])],e);var t}()},384:function(e,t,n){"use strict";var i=n(1),a=n(253),o=n(376),r=n(113);n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t,n,i){var a=this;this.storage=e,this.route=t,this.elementRef=n,this.sanitizer=i,this.id=parseInt(t.snapshot.params.id,10),this.storage.getTemplates(this.id).subscribe(function(e){a.template={id:e.id,template:a.sanitizer.bypassSecurityTrustHtml(e.template),modified:e.modified}})}return e.prototype.onClick=function(e){e.target.classList.contains("editable")&&(this.selectedElement=e.target,this.elementRef.nativeElement.querySelector(".selected")&&this.elementRef.nativeElement.querySelector(".selected").classList.remove("selected"),this.selectedElement.classList.add("selected"))},e.prototype.changeText=function(e){this.selectedElement.innerText=e,this.saveChanges()},e.prototype.changeSize=function(e){this.selectedElement.style.fontSize=e,this.saveChanges()},e.prototype.saveChanges=function(){var e=this;this.template.modified=(new Date).getTime(),this.storage.storeTemplate(this.id,{id:this.template.id,modified:this.template.modified,template:this.elementRef.nativeElement.querySelector(".template-area").innerHTML}).subscribe(function(t){setTimeout(function(){return e.selectedElement=e.elementRef.nativeElement.querySelector(".selected")})})},e=c([n.i(i._6)({selector:"app-template",template:n(803),styles:[n(800)]}),s("design:paramtypes",["function"==typeof(t=void 0!==a.a&&a.a)&&t||Object,"function"==typeof(f=void 0!==o.b&&o.b)&&f||Object,"function"==typeof(l=void 0!==i.C&&i.C)&&l||Object,"function"==typeof(d=void 0!==r.c&&r.c)&&d||Object])],e);var t,f,l,d}()},524:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=524},525:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(612),a=n(1),o=n(645),r=n(643);o.a.production&&n.i(a.a)(),n.i(i.a)().bootstrapModule(r.a)},642:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return r});var a=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){this.title="app works!"}return e=a([n.i(i._6)({selector:"app-root",template:n(801),styles:[n(798)]}),o("design:paramtypes",[])],e)}()},643:function(e,t,n){"use strict";var i=n(113),a=n(1),o=n(603),r=n(358),c=n(383),s=n(384),f=n(644),l=n(382),d=n(253),p=n(642);n.d(t,"a",function(){return h});var u=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(){}return e=u([n.i(a.b)({declarations:[p.a,c.a,s.a],imports:[i.a,o.a,r.a,f.a],providers:[l.a,d.a],bootstrap:[p.a]}),m("design:paramtypes",[])],e)}()},644:function(e,t,n){"use strict";var i=n(1),a=n(376),o=n(383),r=n(384);n.d(t,"a",function(){return l});var c=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=[{path:"",component:o.a},{path:"template/:id",component:r.a},{path:"**",redirectTo:""}],l=function(){function e(){}return e=c([n.i(i.b)({imports:[a.a.forRoot(f,{useHash:!0})],exports:[a.a]}),s("design:paramtypes",[])],e)}()},645:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={production:!0}},798:function(e,t){e.exports=""},799:function(e,t){e.exports="table,td,th{border:1px solid #000}table{width:100%}"},800:function(e,t){e.exports=""},801:function(e,t){e.exports="<router-outlet></router-outlet>\n"},802:function(e,t){e.exports='<table *ngIf="templates">\n  <tr>\n    <th>Name</th>\n    <th>Modified</th>\n  </tr>\n  <tr *ngFor="let template of templates">\n    <td>\n      <a [routerLink]="[\'template\', template.id]">{{template.name}}</a>\n    </td>\n    <td>{{getDate(template.modified)}}</td>\n  </tr>\n</table>\n'},803:function(e,t){e.exports='<div class="template-area"\n     *ngIf="template"\n     [innerHtml]="template.template"\n     (click)="onClick($event)">\n\n</div>\n<br>\n<div *ngIf="selectedElement" class="panel">\n  Text: <input [value]="selectedElement.innerText" #textInput (change)="changeText(textInput.value)"><br>\n  Font size: <input [value]="selectedElement.style.fontSize || \'16px\'" #fontSizeInput (change)="changeSize(fontSizeInput.value)">\n</div>\n'}},[1087]);